
ps 命令是最常用的监控进程的命令，通过此命令可以查看系统中所有运行进程的详细信息。


# 常用命令

1. 查看某个用户所有的进程
```bash
ps -u shengaojie
```

2. 查看所有进程
```bash
ps -ef  # 全格式显示所有进程，适合查看进程详细信息（如查找某服务的PID）
ps aux  #  BSD风格，显示所有进程（包括无终端的），包含CPU和内存使用率
```

3. 查看 cpu 使用率最高的进程

```bash
ps aux --sort=-%cpu | head -n 6  # --sort=-%cpu 按CPU倒序，head -n6 取前6行（含表头）
```

```bash
ps aux --sort=-%mem | grep java | head -n 3  # 查看内存占用率最高的前三个
```


| 字段名称    | 含义           | 示例                    | 效果说明                         |
| ------- | ------------ | --------------------- | ---------------------------- |
| `%cpu`  | CPU 使用率（百分比） | `ps aux --sort=-%cpu` | 按 CPU 使用率从高到低排序，找出最耗 CPU 的进程 |
| `%mem`  | 内存使用率（百分比）   | `ps aux --sort=-%mem` | 按内存使用率从高到低排序，找出最耗内存的进程       |
| `pid`   | 进程 ID        | `ps aux --sort=-pid`  | 按进程 ID 从大到小排序（最新启动的进程在前）     |
| `etime` | 进程运行时间       | `ps aux --sort=etime` | 按运行时间从短到长排序（最新启动的进程在前）       |
| `user`  | 进程所有者（用户名）   | `ps aux --sort=user`  | 按用户名首字母升序排序（A-Z）             |

# 可选参数

| 功能   | 参数        | 作用                        | 示例                    |
| ---- | --------- | ------------------------- | --------------------- |
| 范围筛选 | `-e`/`-A` | 所有进程                      | **`ps -ef`**          |
|      | `-u 用户名`  | 指定用户的进程                   | **`ps -u root`**      |
|      | `-p PID`  | 指定 PID 的进程                | `ps -p 1234`          |
| 格式控制 | `-f`      | 全格式（含 UID、PPID 等）         | `ps -ef`              |
|      | `-l`      | 长格式（含优先级、状态等）             | `ps -l`               |
|      | `-o 字段`   | 自定义输出字段                   | `ps -e -o pid,%cpu`   |
| 特殊功能 | `-x`      | 包含无终端进程                   | `ps -ux`              |
|      | `-H`      | 层级显示进程关系                  | `ps -efH`             |
|      | `--sort`  | 按指定字段排序（如 `-%cpu` 倒序 CPU） | `ps aux --sort=-%mem` |





