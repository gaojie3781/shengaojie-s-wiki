
日报总结：
1. 主要学习了银行账户相关的的知识，如银行账户的分类、借记卡，信用卡和账户数量的关系、结算账户和存储账户、结算账户中的 I、II、III 类账户、通知存款、账户持有凭证、存款账户收付控制
2. linux 相关知识：
	* 环境变量的相关知识，重点在环境变量的分类、常见的环境变量的含义、PATH 变量的使用、环境变量的查看、环境变量的设置。
	* 软链接和硬链接相关概念，具体涉及ext4 文件系统中的概念、软链接和硬链接的语法和特点以及原因
3. 关于《湖州银行-智慧园区&智慧楼宇》PPT的学习
		![[智慧园区&智慧楼宇.png|475]]

# 账户相关知识

##  银行账户

银行账户可以分为*分户账户*和*总账账户*。其本质上是客户账户和内部管理的两种精确的划分方式。

### 分户账户
1. 客户类账户
	* 存款账户
		* 个人存款
		* 企业存款账户
	* 贷款类账户
		* 借款借据
		* 信用卡账户
2. 银行内部账户（服务银行自身的运营的）
	* 应收、应付款账户：记录银行与其他主体的暂存资金的（**解释：客户转账时收款方信息错误时，资金暂时挂在“应解付款账户”，待核实后转出**）
	* 内部往来账户：用于银行上下级机构之间（总行-分行-支行）的资金清算的
	* 暂记户：临时存放无法确定归属的资金的

###  总账账户

1. 资产类总账： 记录银行有用的资源
2. 负债类总账： 记录银行的债务情况
3. 所有者权益总账： 记录银行股东的权益
4. 收入类总账： 记录银行的经营收入（如贷款利息、业务的手续费等等）
5. 费用类总账：记录银行的经营成本



### 关于 借记卡、信用卡和账户数量的关系

首先要说明，**卡片 ≠ 账户**
**借记卡**：本质是**账户访问凭证**，类似于🔑，本身是没有资金属性的，仅仅用于操作挂链的存款账户
**信用卡**：本质是**授信账户的使用载体**，类似于门禁卡，核心的功能是**调用背后唯一的授信账户额度**，而不是操作多个账户
**账户**：记录资金额度的变动的**数据载体**，借记卡关联的是“存放资金的保险柜”，信用卡对应的是“存放授信额度的保险柜”

#### 为什么借记卡可以拥有多个账户
通常情况下，银行给你一张借记卡时，会默认帮你创建一个主存款账户。但是你可以根据自己额外的需要开立其他的存款账户，并且将这些存款账户绑定到同一个借记卡上。

比如：一张人民银行卡，可以有三个存款账户
* 人民币活期账户（工资入账、日常消费）；  
* 人民币定期账户（存 1 年定期，赚利息）；  
* 美元活期账户（用于境外网购）
你把这 3 个账户都关联到一张工行借记卡上，就可以通过这张卡：
- 在 ATM 上查询 3 个账户的余额；
- 在手机银行上把活期账户的钱转到定期账户；
- 在境外消费时，直接从美元账户扣款（无需换卡

**优点：**
1. 管理清晰：资金分账户独立核算，分类规划更方便；
2. 使用便捷：一张卡管多账户，无需带多张卡；
3. 安全可靠：卡片丢失不影响账户资金，补卡即可恢复使用。


#### 为什么多个信用卡可以关联一个账户

银行给你批信用卡时，会先为你开立一个 **“授信账户”**（记录你的授信额度、可用额度、还款记录等核心信息）；而你申请的信用卡（无论是金卡、白金卡、联名卡），都只是 “调用这个授信账户额度” 的不同载体 —— 相当于 “一个保险柜，配了多把不同样式的钥匙”。

比如：  
你在招行申请了 3 张信用卡：  
* 招行 Young 卡（青年版）；  
* 招行王者荣耀联名卡；  
* 招行白金卡；  
这 3 张卡共享一个授信账户，假设总授信额度是 5 万元：
- 你用 Young 卡刷了 2 万元，那么 3 张卡的可用额度都会变成 3 万元；
- 你用白金卡还了 1 万元，可用额度就恢复到 4 万元；
- 无论刷哪张卡，还款都统一还到 “授信账户”（无需分卡还款）。

**好处：**
1. 风险可控：避免过度授信，降低银行坏账风险；
2. 用卡省心：统一额度、统一还款，无需记多个信息；
3. 权益灵活：多卡享不同权益，额度共享不冲突。



### 结算账户 和 储蓄账户

* 储蓄账户：只能存取现金，不能用于转账和支付宝、微信绑定消费
* 结算账户：不仅可以存取现金，也可以用于转账和支付宝、微信绑定消费



###  个人结算账户：I 类、II 类、III 类账户

| 类型      | 开户方式   | 功能权限                    | 限额要求                     | 核心定位                 |
| ------- | ------ | ----------------------- | ------------------------ | -------------------- |
| I 类账户   | 必须柜台开户 | 全功能（存取现金、转账、消费、理财无限制）   | 无限额                      | “主力账户”（工资卡、日常结算）     |
| II 类账户  | 可线上开户  | 限非现金业务（转账、消费、理财），不可存取现金 | 单日转账 / 消费≤1 万元，年累计≤20 万元 | “辅助账户”（绑定支付、理财专用）    |
| III 类账户 | 可线上开户  | 仅支持小额支付（绑定微信 / 支付宝）     | 余额≤2000 元，单日支付≤2000 元    | “零钱账户”（高频小额消费，如扫码支付） |

#### 账户数量
* 同一法人银行同一客户只可开立1个I类户；存量I类户可以选择保留，也可以选择降级或销户；
* 同一法人银行同一客户可开立5个II类户
* 同一法人银行同一客户可开立5个III类户
#### 账户持有实体介质
* I类账户：必须配发实体卡片
* II类账户：在柜面、自助设备加以银行工作人员面对面核实身份后可配发银行卡实体卡
* III类账户：不可配发实体介质；


#### II、III类账户销户

* 可以通过柜面或者电子渠道为个人办理II、III类户销户业务。
* II、III类户销户前资金必须转回（行内/行外）（I类/信用卡）绑定账户。
* 若绑定账户已销户，II、III类账户需重新绑定I类户或信用卡账户，并将账户资金转回新绑定I类户或信用卡账户后才可销户。



### 账户持有凭证：

  * 折：活期存折、定期存折、定活一本通、定期一本通；
  * 卡：普卡、金卡、钻石卡、铂金卡等借记卡片。
  * 单：个人储蓄存单、单位定期存款证实书、单位通知存款证实书、单位定期存单

### 储蓄存款账户

| 类型         | 核心定义                            | 起存金额     | 存期规则                                         | 存取方式                                      | 利息规则                                               |
| ---------- | ------------------------------- | -------- | -------------------------------------------- | ----------------------------------------- | -------------------------------------------------- |
| 活期储蓄存款     | 开户后可随时存取、无固定存期的储蓄方式             | 1 元起存    | 无固定存期，随存随取                                   | 可通过柜面、ATM、手机银行等渠道随时存取现金、转账                | 按**活期利率**（约 0.2%-0.3%）按季结息，利息 = 本金 × 利率 × 实际存期     |
| 整存整取定期储蓄存款 | 本金一次性存入、约定固定存期，到期一次性支取本息的定期储蓄   | 50 元起存   | 存期固定：3 个月、半年、1 年、2 年、3 年、5 年                 | 本金**一次性存入**，到期凭存单 / 卡支取本息；提前支取需凭身份证，按活期计息 | 按**对应存期的定期利率**计息（存期越长利率越高），到期一次性支付本息               |
| 零存整取定期储蓄存款 | 每月固定存入一定金额、约定存期，到期一次性支取本息的强制储蓄  | 5 元起存    | 存期固定：1 年、3 年、5 年；每月存入 1 次，漏存可次月补存，未补存按实存金额计息 | 每月**固定金额存入**，到期一次性支取本息；中途不可提前支取本金         | 按**约定存期的零存整取利率**计息，利息 =（每月存额 × 总月数 + 1）× 月存额 × 月利率 |
| 存本取息定期储蓄存款 | 本金一次性存入、约定存期，到期支取本金，利息分期支取的定期储蓄 | 5000 元起存 | 存期固定：1 年、3 年、5 年；取息周期由储户与银行约定（月 / 季 / 半年）    | 本金**一次性存入**，利息按期支取；提前支取本金需扣回多付利息          | 按**对应存期的定期利率**计算总利息，分期支付；提前支取本金按活期计息               |
| 整存零取定期储蓄存款 | 本金一次性存入、约定存期，分期支取本金，到期结清利息的定期储蓄 | 1000 元起存 | 存期固定：1 年、3 年、5 年；支取周期由储户与银行约定（月 / 季 / 半年）    | 本金**一次性存入**，按期支取本金；利息到期一次性结清              | 按**对应存期的定期利率**计息，利息 =（全部本金 + 每次支取本金）÷2× 存期 × 利率    |
| 定活两便储蓄存款   | 无固定存期、可随时支取，兼具活期灵活性和定期收益性的储蓄方式  | 50 元起存   | 无固定存期，支取时按实际存期匹配利率                           | 本金一次性存入，可随时支取，无需提前通知                      | 按**实际存期对应的定期利率打 6 折**计息（存期不足 3 个月按活期计息）            |


### 通知存款

通知存款，是指存款人在存入款项时不约定存期，支取时需提前通知金融机构，约定支取存款日期和金额方能支取的存款。

* 约定通知期限：一天或七天。
*  一次性存入通知存款金额；最低起存金额：个人为5万元，单位为50万元。

###  存款账户收付控制

* 账户部分冻结：账户冻结金额 < 账户余额；
* 账户全额冻结：账户冻结金额 = 账户余额；
* 账户超额冻结：账户冻结金额 >账户余额；
*  账户止付：限制账户的付款能力。
*  账户止收：限制账户的收款能力。
*  账户资金圈存：将账面部分资金进行圈存（等同于部分冻结），用于特定业务场景中，保证付款账户在付款时间节点足额支付的付款能力。

### 账户和凭证的关系

可以查看上文中的[[#关于 借记卡、信用卡和账户数量的关系]]


# linux 环境变量

在 Linux 系统中，环境变量是一种包含系统或用户相关信息的字符串，它在系统中起着至关重要的作用，用于控制程序的运行环境、查找路径等


## 环境变量的分类

- **系统环境变量**：由系统定义和维护，对所有用户都有效，用于控制整个系统的行为和特性。
- **用户环境变量**：仅对特定用户有效，每个用户可以根据自己的需求进行设置。用户环境变量通常存储在用户主目录下的 `.bash_profile`、`.bashrc` 等文件中。
## 常见的环境变量

- **PATH**：这是最常用的环境变量之一，**用于指定命令的搜索路径**。当在终端输入一个命令时，系统会按照 PATH 变量中指定的目录顺序，依次查找是否存在对应的可执行文件。
   比如：`PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin`，表示系统会先在 `/usr/local/sbin` 目录下查找命令，若未找到，再依次到后面的目录中查找。目录之间通过: 分割，注意这里的**路径必须要用绝对路径的形式**。
- **HOME**：表示用户的主目录。比如普通用户 `user1` 的 `HOME` 变量值通常是 `/home/user1`，而超级用户 `root` 的 `HOME` 变量值为 `/root`。
- **SHELL**：指定用户默认使用的 Shell 程序。常见的 Shell 有 `bash`、`sh`、`zsh` 等
- **LANG**：用于设置系统的语言环境，决定了系统显示的文字语言、日期格式等。
- **PWD**：表示当前工作目录，它会随着用户在终端中切换目录而自动更新。

## 环境变量的设置方法

- **临时设置**：在终端中直接使用 `export` 命令设置环境变量，这种方式设置的环境变量只在当前终端会话中有效，关闭终端后就会失效。可以通过如下的方式设置：
```bash
export MY_VAR="hello"
```
  
- **永久设置**：
    - **系统环境变量**：
	    	1. 编辑 `/etc/profile` 或 `/etc/bashrc` 文件（修改 `/etc/profile` 对所有用户生效，修改 `/etc/bashrc` 对所有用户每次打开终端时生效 ）\
	    	2. 在文件末尾添加 `export 变量名=变量值` 的形式来设置环境变量。
	    	3. 修改完成后，需要执行 `source /etc/profile` 或 `source /etc/bashrc` 使配置立即生效。
    - **用户环境变量**：
	    	1. 编辑用户主目录下的 `.bash_profile` 或 `.bashrc` 文件（`.bash_profile` 只在用户登录时执行一次，`.bashrc` 在每次打开终端时执行 ），
	    	2. 同样以 `export 变量名=变量值` 的形式添加环境变量。
	    	3. 修改后执行 `source ~/.bash_profile` 或 `source ~/.bashrc` 使配置生效。

## 环境变量的查看方法

- **查看所有环境变量**：在终端中执行 `env` 命令，会列出当前系统中所有的环境变量及其对应的值。
- **查看特定环境变量**：使用 `echo $变量名` 的方式查看，比如要查看 `PATH` 变量的值，执行 `echo $PATH` 即可。




# 软连接和硬链接

## ext4文件系统

ext4 文件系统会把分区主要分为两个大部分:
* Inode: 用于保存文件的节点信息。**每一个文件都需要占用一个 Inode，Inode 并不会存储文件的名称**。Inode 的默认大小是 128Byte。主要保存的内容如下：
	* 用来记录文件的权限(r、w、x)
	* 文件的所有者和和组
	* 文件大小
	* 文件的状态改变时间
	* 文件的最近一次读取时间
	* 文件最近一次的修改时间
	* 文件的数据真正保存的 block 的编号
* block：的大小可以是 1KB、2KB、4KB，默认为 4KB。block 用于实际的数据存储，如果一个 block 放不下数据，则可以占用多个 block。
	* **文件的 block**：存放文件的**实际数据**（如文本内容、图片二进制数据）；
	- **目录的 block**：存放该目录下**一级子文件 / 子目录的 “文件名→inode 号” 映射关系**（类似 “索引表”）。

![[CleanShot 2025-09-03 at 15.32.10@2x.png]]


> [!summary] 
> 1. 每个文件都需要占用一个 Inode，文件内容由 Inode 中的记录来指向
> 2. 如果想要读取文件中的内容，就必须要借助目录中记录的文件名找到该文件的 Inode，才能找到文件内容所在的 block 块。


## ln 命令

```bash
ln [选项] 源文件 目标文件
```

选项：
* -s: 建立软连接。如果不加 -s 选项，则建立硬链接文件
* -f: 强制。如果目标文件已经存在，则删除目标删除后再建立链接文件


创建硬链接

```bash
touch book
ln /root/book /tmp
```
建立硬链接文件，目标文件没有写文件名，会和原名一致 。也就是`/tmp/cangls` 是硬链接文件


创建软连接
```bash
touch money
ln -s /root/money /tmp
```


> [!attention] 
> 软链接文件的源文件必须写成绝对路径，而不能写成相对路径（硬链接没有这样的要求）



## 硬链接

一句话解释硬链接：**源文件和链接文件的 inode 指向同一个 block 块**
```bash
[root@localhost ~]# touch test  
#建立源文件  
[root@localhost ~]# ln /root/test /tmp/test-hard  
#给源文件建立硬链接文件 /tmp/test-hard  
[root@localhost ~]# ll -i /root/test /tmp/test-hard  
262147 -rw-r--r-- 2 root root 0 6月 19 10:06 /root/test  
hard  
262147 -rw-r--r-- 2 root root 0 6月 19 10:06 /tmp/test-hard  
#查看两个文件的详细信息，可以发现这两个文件的 inode 号是一样的
```


> [!note] 硬链接的流程

在给源文件 `/root/test` 建立了硬链接文件` /tmp/test-hard `之后，在` /root/ `目录和` /tmp/` 目录的 block 中就会建立 `test` 和 `test-hard` 的信息，这个信息主要就是文件名和对应的 inode 号。但是因为 `test` 和`test-hard 的 inode 信息是一样的，因此无论访问哪个，最终都会访问 inode 号是 262147 的文件信息

![[CleanShot 2025-09-03 at 15.57.43@2x.png]]


> [!summary] 
> 
- 不论是修改源文件（test 文件），还是修改硬链接文件（test-hard 文件），另一个文件中的数据都会发生改变。
- 不论是删除源文件，还是删除硬链接文件，只要还有一个文件存在，这个文件（inode 号是 262147 的文件）都可以被访问。
- 硬链接不会建立新的 inode 信息，也不会更改 inode 的总数。
- 硬链接不能跨文件系统（分区）建立，因为在不同的文件系统中，inode 号是重新计算的。
- 硬链接不能链接目录，因为如果给目录建立硬链接，那么不仅目录本身需要重新建立，目录下所有的子文件，包括子目录中的所有子文件都需要建立硬链接，这对当前的 Linux 来讲过于复杂。

## 软连接

一句话解释软链接：**链接文件会创建新的 inode ，功能和 windows 系统中的快捷方式类似**

```bash
[root@localhost ~]# touch check  
#建立源文件  
[root@localhost ~]# ln -s /root/check /tmp/check-soft  
#建立软链接文件  
[root@localhost ~]# ll -id /root/check /tmp/check-soft  
262154 -rw-r--r-- 1 root root 0 6月 19 11:30 /root/check  
917507 lrwxrwxrwx 1 root root 11 6月 19 11:31 /tmp/ check-soft -> /root/check  
#软链接和源文件的 inode 号不一致，软链接通过 -> 明显地标识出源文件的位置  
#在软链接的权限位 lrwxrwxrwx 中，l 就代表软链接文件
```

> [!note] 软连接流程

软链接和硬链接在原理上最主要的不同在于：**硬链接不会建立自己的 inode 索引和 block（数据块），而是直接指向源文件的 inode 信息和 block**，所以硬链接和源文件的 inode 号是一致的；而**软链接会真正建立自己的 inode 索引和 block**，所以软链接和源文件的 inode 号是不一致的，而且在软链接的 block 中，写的不是真正的数据，而仅仅是源文件的文件名及 inode 号。

![[CleanShot 2025-09-03 at 15.57.53@2x.png]]


> [!summary] 
> 
- 不论是修改源文件，还是修改硬链接文件，另一个文件中的数据都会发生改变。
- 删除软链接文件，源文件不受影响。而删除原文件，软链接文件将找不到实际的数据，从而显示文件不存在。
- 软链接会新建自己的 inode 信息和 block，只是在 block 中不存储实际文件数据，而存储的是源文件的文件名及 inode 号。
- 软链接可以链接目录。
- 软链接可以跨分区













